<ngx-loading-bar [color]="'#4DA685'" [height]="'5px'"></ngx-loading-bar>
<!-- <app-mainmenu></app-mainmenu> -->

<div #appContainer class="relative min-h-screen lg:flex">
    <!-- mobile menu bar -->
    <div class="bg-plantation-500 text-gray-100 z-40 flex justify-between lg:hidden" (click)="toggleSideNav()">
        <!-- mobile menu button -->
        <button class="mobile-menu-button p-4 focus:outline-none bg-plantation-500 text-white">
      <i class="fas fa-bars text-xl"></i>
    </button>

        <a href="#" class="stag-logo">
            <svg aria-hidden="true" width="46.1" height="64" viewBox="0 0 41.9 64" class="h-12 w-12 text-white">
        <path
          fill="#fff"
          d="M45.6 11.6c-0.2 0.1 0.2 1.3-1.1 3.3 -1 1.5-2.5 2.4-3.2 2.4 -0.7 0-1-0.7-1-1.9 0-2 1.2-3.6 1.2-9.1 0-3.4-1.2-5.5-1.9-6.1C39.5 0.1 39.3 0 39.2 0c-0.1 0-0.1 0-0.1 0.1 0 0.1 0.1 0.2 0.3 0.6 0.2 0.3 0.7 1.8 0.7 3.8 0 3.1-0.7 3.6-1.3 3.6 -1.2 0-1.8-1.4-2.1-2.7 -0.4-1.5-0.2-2.3-0.4-2.3 -0.2 0-0.4 1.2-0.4 2.1 0 2.8 2.2 6.4 2.2 9 0 3.1-3.4 8.2-6.1 8.2 -2.1 0-3.2-3.2-3.7-5.8 -0.5-2.8-0.3-4.4-0.6-4.4 -0.3 0-0.9 2.3-0.9 4.7 0 3.3 1.4 5.5 1.4 7.9 0 2.8-3.8 3.9-7.6 3.6 -1.7-0.1-2.8-1.2-2.8-3.2 0-2.4 0.2-3.8 0.2-6.5 0-2.4-0.9-4.1-1.1-4 -0.1 0-0.1 0.3 0 0.5 0.4 3.4-0.9 9.4-3.2 9.4 -1.2 0-2.3-1.4-3.2-2.4 -1.6-1.8-2.4-3.1-2.4-6.3 0-2.7 1.5-5.1 1.5-6.8 0-0.7-0.1-1.5-0.3-1.5 -0.2 0-0.2 0.2-0.2 0.4 -0.3 2.3-1.2 3.5-2.1 3.5 -0.6 0-0.8-0.6-0.8-1.3 0-1.9 0.5-5.1 0.9-6.4 0.1-0.2 0-0.3-0.1-0.3 -0.7 0-1.9 4.2-1.9 8.1 0 3.5 1.1 5.8 1.1 7 0 0.8-0.4 1.2-1.1 1.2 -2.5 0-4-2.3-4.6-3.1 -0.1-0.1-0.2-0.2-0.3-0.2C0.1 16.3 0 16.3 0 16.5c0 0.3 0.1 0.7 0.2 0.9 0.6 1.3 1.3 2.4 3.1 3.7 1.7 1.3 2.7 1.1 5.3 2.8 1.6 1 2.7 2.4 4.8 4 1.2 0.9 2.7 1.9 4.1 2.6 -3.5 2.2-8.9 4.3-12.8 5.3 -0.4 0.1-0.7 0.4-0.7 1 0 0.3 0.1 0.8 0.5 1.4 0.6 0.9 1.2 1.9 1.9 3 0.6 0.8 1.7 2.1 5.3 2 6.6-0.1 12.3 0.8 12.3 8.5 0 2.9-1.7 4.7-2.9 5.2 0.8-1.4 1.5-4.4 0.9-5.5 -1.4 3.7-8.9 1.5-15.3 12.6L40.9 64c-1.4-3.1-2.3-6.8-2.3-12 -0.1-4.9-0.6-12.3-4.9-17.3 1.9-0.5 4-1.7 4.8-3 -1-2.2-4-3.1-8.8-2.4 4.7-1.9 5.4-5.1 8-7.1 0.9-0.7 2.7-1.4 3.9-2.3 3-2.2 4.4-4.5 4.4-6.8C46.1 12.4 45.8 11.6 45.6 11.6"
        />
      </svg>
        </a>

        <app-profile class="block mt-2 text-white" [iconColorClass]="'text-white'"></app-profile>
    </div>

    <!-- sidebar -->
    <div class="sidebar bg-secondary text-blue-100 z-30 w-64 space-y-3 absolute inset-y-0 left-0 transform -translate-x-full lg:relative lg:translate-x-0 transition duration-200 ease-in-out" [ngClass]="{ '-translate-x-full': !toggleSideBar }">
        <button class="mobile-menu-button p-4 focus:outline-none bg-downriver-500 top-0 left-0 absolute lg:invisible" (click)="toggleSideNav()">
      <i class="fas fa-times text-white text-xl"></i>
    </button>
        <!-- logo -->
        <a href="#" class="block ml-20 -mt-10">
            <svg aria-hidden="true" width="46.1" height="64" viewBox="0 0 41.9 64" class="h-12 w-12 text-white">
        <path
          fill="#fff"
          d="M45.6 11.6c-0.2 0.1 0.2 1.3-1.1 3.3 -1 1.5-2.5 2.4-3.2 2.4 -0.7 0-1-0.7-1-1.9 0-2 1.2-3.6 1.2-9.1 0-3.4-1.2-5.5-1.9-6.1C39.5 0.1 39.3 0 39.2 0c-0.1 0-0.1 0-0.1 0.1 0 0.1 0.1 0.2 0.3 0.6 0.2 0.3 0.7 1.8 0.7 3.8 0 3.1-0.7 3.6-1.3 3.6 -1.2 0-1.8-1.4-2.1-2.7 -0.4-1.5-0.2-2.3-0.4-2.3 -0.2 0-0.4 1.2-0.4 2.1 0 2.8 2.2 6.4 2.2 9 0 3.1-3.4 8.2-6.1 8.2 -2.1 0-3.2-3.2-3.7-5.8 -0.5-2.8-0.3-4.4-0.6-4.4 -0.3 0-0.9 2.3-0.9 4.7 0 3.3 1.4 5.5 1.4 7.9 0 2.8-3.8 3.9-7.6 3.6 -1.7-0.1-2.8-1.2-2.8-3.2 0-2.4 0.2-3.8 0.2-6.5 0-2.4-0.9-4.1-1.1-4 -0.1 0-0.1 0.3 0 0.5 0.4 3.4-0.9 9.4-3.2 9.4 -1.2 0-2.3-1.4-3.2-2.4 -1.6-1.8-2.4-3.1-2.4-6.3 0-2.7 1.5-5.1 1.5-6.8 0-0.7-0.1-1.5-0.3-1.5 -0.2 0-0.2 0.2-0.2 0.4 -0.3 2.3-1.2 3.5-2.1 3.5 -0.6 0-0.8-0.6-0.8-1.3 0-1.9 0.5-5.1 0.9-6.4 0.1-0.2 0-0.3-0.1-0.3 -0.7 0-1.9 4.2-1.9 8.1 0 3.5 1.1 5.8 1.1 7 0 0.8-0.4 1.2-1.1 1.2 -2.5 0-4-2.3-4.6-3.1 -0.1-0.1-0.2-0.2-0.3-0.2C0.1 16.3 0 16.3 0 16.5c0 0.3 0.1 0.7 0.2 0.9 0.6 1.3 1.3 2.4 3.1 3.7 1.7 1.3 2.7 1.1 5.3 2.8 1.6 1 2.7 2.4 4.8 4 1.2 0.9 2.7 1.9 4.1 2.6 -3.5 2.2-8.9 4.3-12.8 5.3 -0.4 0.1-0.7 0.4-0.7 1 0 0.3 0.1 0.8 0.5 1.4 0.6 0.9 1.2 1.9 1.9 3 0.6 0.8 1.7 2.1 5.3 2 6.6-0.1 12.3 0.8 12.3 8.5 0 2.9-1.7 4.7-2.9 5.2 0.8-1.4 1.5-4.4 0.9-5.5 -1.4 3.7-8.9 1.5-15.3 12.6L40.9 64c-1.4-3.1-2.3-6.8-2.3-12 -0.1-4.9-0.6-12.3-4.9-17.3 1.9-0.5 4-1.7 4.8-3 -1-2.2-4-3.1-8.8-2.4 4.7-1.9 5.4-5.1 8-7.1 0.9-0.7 2.7-1.4 3.9-2.3 3-2.2 4.4-4.5 4.4-6.8C46.1 12.4 45.8 11.6 45.6 11.6"
        />
      </svg>
        </a>
        <!-- nav -->
        <nav>
            <!-- Dashboard -->
            <div class="py-2.5 px-4 rounded transition flex flex-row justify-between duration-200 hover:text-white no-underline cursor-pointer" (click)="showDashboardPages = !showDashboardPages">
                <i class="fas fa-tachometer-alt text-white mr-4 mt-1"></i>
                <span>Dashboard</span>
                <span class="flex-1"></span>
                <i class="fas text-xs" [ngClass]="{ 'fa-minus': showDashboardPages, 'fa-plus': !showDashboardPages }"></i>
            </div>
            <section *ngIf="showDashboardPages">
                <ul>
                    <li *ngFor="let page of dashboardPages" class="block py-2.5 pl-10 rounded text-gray-400 transition duration-200 hover:bg-downriver-400 hover:text-white mt-1">
                        <a routerLink="{{ page.url }}" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" class="no-underline">
              {{ page.name }}
            </a>
                    </li>
                </ul>
            </section>

            <!-- Contacts -->
            <div class="flex flex-row justify-between py-2.5 mt-2 px-4 rounded transition duration-200 hover:text-white cursor-pointer" (click)="showContactPages = !showContactPages">
                <i class="fas fa-user-friends text-white mr-4 mt-1"></i> Contacts
                <span class="flex-1"></span>
                <i class="fas text-xs" [ngClass]="{ 'fa-minus': showContactPages, 'fa-plus': !showContactPages }"></i>
            </div>
            <section *ngIf="showContactPages">
                <ul>
                    <li *ngFor="let page of contactPages" class="block py-2.5 pl-10 rounded text-gray-400 transition duration-200 hover:bg-downriver-400 hover:text-white mt-1">
                        <a class="no-underline" routerLink="{{ page.url }}" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
              {{ page.name }}
            </a>
                    </li>
                </ul>
            </section>

            <!-- Properties -->
            <div class="flex flex-row justify-between mt-2 py-2.5 px-4 rounded transition duration-200 hover:text-white cursor-pointer" (click)="showPropertyPages = !showPropertyPages">
                <svg aria-hidden="true" width="64" height="64" viewBox="0 0 64 64" class="mr-4 text-white w-4 h-4" fill="#fff">
          <polygon
            points="64,45.2 47.4,26.4 30.7,45.2 34.9,45.2 34.9,59.7 36.9,59.7 43.2,59.7 43.2,49.4 51.5,49.4 51.5,59.7 57.8,59.7 59.8,59.7 59.8,45.2"
          />
          <polygon points="30.7,45.2 34.9,45.2 34.9,59.7 34.9,59.7 34.9,40.4  " />
          <path
            d="M34.9,38.4v-34H0v55.3h13.3V49.4h8.3v10.3h11.9V46.5h-2.8h-3.1l2-2.3L34.9,38.4z M14.7,38.9H6.4v-8.3h8.3V38.9z M14.7,25.1H6.4v-8.3h8.3V25.1z M28.5,38.9h-8.3v-8.3h8.3V38.9z M28.5,25.1h-8.3v-8.3h8.3V25.1z"
          />
        </svg> Properties
                <span class="flex-1"></span>
                <i class="fas text-xs" [ngClass]="{ 'fa-minus': showPropertyPages, 'fa-plus': !showPropertyPages }"></i>
            </div>
            <section *ngIf="showPropertyPages">
                <ul>
                    <li *ngFor="let page of propertyPages" class="block py-2.5 pl-10 rounded text-gray-400 transition duration-200 hover:bg-downriver-400 hover:text-white mt-1">
                        <a class="no-underline" routerLink="{{ page.url }}" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
              {{ page.name }}
            </a>
                    </li>
                </ul>
            </section>
        </nav>
    </div>
    <!-- end navigation-->

    <!-- Main Page Content -->
    <div class="flex flex-col w-full border-2 border-red-400" [ngClass]="{ 'fade-in': isFading }">
        <div class="sticky top-0 w-full z-20">
            <app-header></app-header>
        </div>

        <div toastContainer></div>
        <div class="px-5 pt-0 z-0">
            <router-outlet></router-outlet>
        </div>
    </div>
</div>