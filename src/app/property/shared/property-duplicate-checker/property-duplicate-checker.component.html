<div class="off-canvas" [hidden]="!isDuplicateFound && !showMatches" (click)="isDuplicateFound = false; showMatches = false;">
  <div class="off-canvas-content right slide-in-right" (click)="$event.stopPropagation()" #offCanvasContent>
    <h4 class="page-title text-left pt-3">
      Property duplicates
      <button type="button" class="close mr-2" aria-label="Close" (click)="isDuplicateFound = false; showMatches = false;">
        <span aria-hidden="true">&times;</span>
      </button>
    </h4>
    <div class="alert alert-danger">There is already a property with this address. <a href (click)="$event.preventDefault(); isDuplicateFound = false; showMatches = false;">Search again </a>or select it from the list.</div>
    <div class="list-group small">
      <div class="list-group-item list-header d-none d-sm-block">
        <div class="row">
          <div class="col-sm"><strong>Ref</strong></div>
          <div class="col-sm"><strong>Address</strong></div>
          <div class="col-sm col-lg-2"></div>
        </div>
      </div>
      <ng-container *ngIf="potentialDuplicates">
        <div class="list-group-item list-group-item-action" *ngFor="let foundProperty of potentialDuplicates">
          <div class="row align-items-end align-items-sm-center" (click)="selectProperty(foundProperty?.propertyId)">
            <div class="col-12 mb-2 mb-sm-0" *ngIf="foundProperty?.ranking">
              <span class="badge badge-pill badge-success" *ngIf="foundProperty?.ranking > 1000">Full Match</span>
              <span class="badge badge-pill badge-warning" *ngIf="foundProperty?.ranking < 1000">Good Match</span>
            </div>
            <div class="col-sm">
              <dl class="row">
                <dt class="col-4 d-sm-none">Property Ref</dt>
                <dd class="col">
                  {{foundProperty?.propertyId}}
                  <!-- <span class="mr-1" [innerHTML]="foundProperty?.propertyId | highlight"></span> -->
                </dd>
              </dl>
            </div>
            <div class="col-sm">
              <dl class="row">
                <dt class="col-4 d-sm-none">Property Address</dt>
                <dd class="col">
                  {{foundProperty?.propertyAddress}}
                  <!-- <span class="mr-1" [innerHTML]="foundProperty?.propertyAddress | highlight"></span> -->
                </dd>
              </dl>
            </div>
            <div class="col-sm col-lg-2 text-center">
              <button class="btn btn-block btn-sm btn-link">Select</button>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
